





## 分布式系统

关注点：

- 故障
- 性能
- 安全



高可用—-冗余—-数据一致性

### 通信

如何处理丢包？ 我们不处理，应用程序处理



#### 不可靠通信层



#### 可靠通信层



### 通信抽象

#### 分布式共享内存



#### 远程过程调用（RPC）







### 高可用

主从(Master-Slave)模型，核心思想其实就是分而治之。在主从模型中，一般都是==读写分离==的，读写操作互相不影响且能避免机器出现性能瓶颈。这时只有Master对外提供写能力，Slave只提供读能力，Master和Slave之间进行通过网络进行数据同步。当Master节点宕机或者不可用时，从Slave中选择一台机器晋升为Master继续对外提供服务，从而实现服务的高可用。

而在微服务架构中，一般我们的应用服务都是无状态的，应用服务之间无需数据同步、也无需选主，可通过简单的水平扩展来实现提高服务的可用性。

对于有状态的系统，如果要实现高可用，那么不可避免的就需要采用主从模型，如MySQL、Redis、Hadoop等相关存储类型产品，又比如ZooKeeper和一些MQ产品。

